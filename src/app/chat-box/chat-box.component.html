<mat-card class="card">
  <form class="chatForm" [formGroup]="chatForm" (ngSubmit)="saveChat()">
    <mat-form-field class="chatText" >
      <input matInput placeholder="Message.." formControlName="chatText">
    </mat-form-field>
    <button mat-raised-button class="send" [disabled]="!chatForm.get('chatText').value" type="submit">Send</button> 
    <button mat-icon-button type="button" (click)="fileInput.click()">
      <mat-icon>attach_file</mat-icon>
      <input type="file" #fileInput [hidden]="true" accept="image/*" (change)="fileUpload($event)">
    </button>
  </form>
  <div *ngFor="let chat of chatData | async" class="chatContainer">
    <img [src]="chat.profilePicUrl" class="profilePic">
    <span class="chat">
      <mat-spinner *ngIf="chat.imageUrl == 'UPLOADING'"></mat-spinner>
      <div>{{chat.text}}</div>
      <img [src]="chat.imageUrl" *ngIf="chat.imageUrl && chat.imageUrl != 'UPLOADING'" class="imageChat">
      <div class="userName">{{chat.name}}</div>
    </span>
  </div>

</mat-card>